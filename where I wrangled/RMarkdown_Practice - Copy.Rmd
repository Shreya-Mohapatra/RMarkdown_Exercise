---
title: "RMarkdown Exercise"
author: "Shreya Mohapatra"
date: "2023-03-29"
output:
  pdf_document:
    toc: yes
  html_document:
    toc: yes
    toc_float: yes
header-includes:
   - \usepackage{animate}
---
## An Exercise in Importance of Data Visualisation

### I dino what to tell ya, but here() it goes anyway

The [Datasaurus Dozen](https://www.autodesk.com/research/publications/same-stats-different-graphs), a misnomer, contains 13 datasets: Alberto Cairo's Datasaurus or as he prefers [Anscombosaurus](http://www.thefunctionalart.com/2016/08/download-datasaurus-never-trust-summary.html), and 12 others created by [Justin Matejka & George Fitzmaurice](https://damassets.autodesk.net/content/dam/autodesk/www/autodesk-reasearch/Publications/pdf/same-stats-different-graphs.pdf). Each dataset has the same summary statistics (mean, sd, and Pearson'r r) but results in very different visualizations. Similar in principle to Anscombe's Quartet, *the purpose of this dataset is to highlight the importance of graphical representation.*

Here's a very fun tool created by [Robert Grant](http://robertgrantstats.co.uk/) to [create your own dataset](http://robertgrantstats.co.uk/drawmydata.html) based on what you want the scatterplot to look like! A great way to understand both stats and visualization.

Alright, let's begin trying to recreate the Datasaurus Dozen plots.

### Loading the data

There's a couple of options:

- Download the CSV file from the Datasaurus Dozen link in the previous section.
- Use it as a **package**! Yup. The beautiful R community has turned these datasets into an R package, led by [Steph Locke](https://github.com/stephlocke) & [Lucy McGowan](https://github.com/LucyMcGowan). You can view this project on their [GitHub](https://github.com/jumpingrivers/datasauRus)!

To load that data in as a package:

+ you can either use the latest stable version available on CRAN

```{r Install datasauRus package through CRAN, eval=FALSE}
install.packages("datasauRus")
```

+ or you can get the latest dev version from GitHub
```{r Install datasauRus package from GitHub, message=FALSE, warning=FALSE}

devtools::install_github("jumpingrivers/datasauRus")

```

### Next, let's get some libraries loaded in

```{r Libraries, error=FALSE, message=FALSE, warning=FALSE}

library(ggplot2)
library(tidyverse)
library(here)
library(gganimate)
library(gifski)
library(datasauRus)

```

```{r Knitr Dev Version, message=FALSE, warning=FALSE, echo=FALSE}
# we need the dev version of knitr to be able to knit gif into a pdf
devtools::install_github('yihui/knitr')
```

### Let's take a look at the dataframe

The first column is "dataset". This groups the rows into the 13 datasets. This will be helpful when we write the code for plotting and animating because the code can then iterate through these groups.
The second and third columns are "x" for x co-ordinates and "y" for y co-ordinates.

```{r View the df}
# shows the first six rows of the df
head(datasaurus_dozen, 6)
# shows the last six rows of the df
tail(datasaurus_dozen, 6)

```

Now, if we look at their descriptive statistics, these datasets will appear similar.

```{r}

summary <- datasaurus_dozen %>% 
  # grouping the data by the column dataset
  group_by(dataset) %>% 
  # creating a summary of the datasets' means, standard deviation, and correlation to show that their descriptive stats, in this case, are almost identical!
  summarize(mean_x = mean(x),
            mean_y = mean(y),
            std_dev_x = sd(x),
            std_dev_y = sd(y),
            corr_x_y  = cor(x, y))

# to print/ view the results
print(summary)

```

It is easy to assume at this stage that these datasets would look exactly the same as each other when you plot them. But is that the case?

### Time for the fun graphs!

We will create two versions to illustrate that even small changes can make big difference in how data can be presented.

#### v1
```{r GGPLOT v1, fig.cap= "The DD #1", fig.height=8}
# here were will generate a single image with a separate plot for each of the 13 datasets
simple <- datasaurus_dozen %>%
  # mapping the variables
  ggplot(aes(x = x, y = y, colour = dataset)) +
  # type of plot
  geom_point() +
  # background colour
  theme_bw() +
  # hiding legend because it would be redundant in this case
  theme(legend.position = "none") +
  # creates a ribbon of panels
  facet_wrap(~dataset, ncol = 3)
# to view the image generated
simple

# to save the image generated; you can change the image type to .jpeg or .TIFF etc; change "figs" to your folder of choice within the working directory
ggsave(here("figs", "tester.png")) 

```

Now, this is a static image. It might be more fun to look at an animated version.

GGANIMATE v1 CODE CHUNK HERE

Satisfying! But can we refine it more?

#### v2

```{r GGPLOT v2, fig.cap= "The DD #3"}

# shorter code.. hmm.
notsosimple <- datasaurus_dozen %>% 
  # mapping the variables
  ggplot(aes(x= x, y= y)) +
  # type of plot
  geom_point() +
  # changing the background colour
  theme_set(theme_bw())

# to save this image; change "figs" to your folder of choice within the working directory
ggsave(here("figs", "tester2.png"))

# to view the plot we have generated
# what do you see?
notsosimple

# a single plot with ALL the data points from ALL the datasets overlapping each other. Why? Let's see what happens when we animate this next!

```

GGANIMATE v2 CODE CHUNK HERE

The kind of visualization you choose for your data will depend on what your goal is:

- what is the question you are trying to answer or message you are trying to convey
- what kind of data do you have
- how can the data be presented clearly and is more or less self-explanatory
- can it be engaging without losing accuracy or important information

Well, hope that was fun and educational.
`That's all for now.`

### References

- [Acknowledging Tom](https://tomstafford.github.io/psy6422/rmarkdown.html)
- [Animation code](https://rpubs.com/tylerotto/DinosaurusDozen)
- [gganimate cheat code](https://ugoproto.github.io/ugo_r_doc/pdf/gganimate.pdf)
- [RMarkdown styling](https://bookdown.org/yihui/rmarkdown/html-document.html)
- [knitr](https://yihui.org/knitr/options/)
